(function(e){function t(t){for(var c,r,s=t[0],i=t[1],l=t[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(c=!1)}c&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var c={},a={app:0},o=[];function r(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=c,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3ee2":function(e,t,n){"use strict";n("9f74")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},o=[],r={name:"App",mounted:function(){this.$store.dispatch("hydrate")}},s=r,i=(n("5c0b"),n("2877")),l=Object(i["a"])(s,a,o,!1,null,null,null),u=l.exports,d=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-layout",[e.accsExist?[n("h3",{staticClass:"is-size-3"},[e._v("Accs:")]),n("div",{staticClass:"tile is-ancestor block"},[n("div",{staticClass:"tile is-parent"},[n("b-field",[n("b-select",{attrs:{rounded:"",icon:"sort"},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}},[n("option",{attrs:{value:"0",selected:""}},[e._v("High to low")]),n("option",{attrs:{value:"1",selected:""}},[e._v("Low to high")]),n("option",{attrs:{value:"2"}},[e._v("Below 5")]),n("option",{attrs:{value:"3"}},[e._v("Unregistered")])])],1)],1),n("div",{staticClass:"tile is-parent"},[n("b-button",{attrs:{type:"is-primary",disabled:!e.accsToShowExist},on:{click:e.selectRandom}},[e._v(" Random ")])],1)]),e.accsToShowExist?n("account-list",e._l(e.accsToShow,(function(e,t){return n("account-list-item",{key:t,attrs:{acc:e}})})),1):[n("div",{staticClass:"block"},[n("p",{staticClass:"is-size-4"},[e._v("No accs found. "),n("br"),e._v("Try another sort")])])]]:[n("h2",{staticClass:"is-size-2"},[e._v("Nothing here yet!")])]],2)},m=[],h=n("5530"),p=(n("4e82"),n("4de4"),n("99af"),n("2f62")),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"is-size-4 has-background-primary-dark p-2 mb-5 account-list"},[e._t("default")],2)},g=[],b={name:"AccountList"},y=b,A=Object(i["a"])(y,v,g,!1,null,"7788c07e",null),w=A.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"acc-list-item block"},[n("b-button",{staticClass:"is-danger mr-1",attrs:{"icon-left":"delete"},on:{click:e.removeAcc}}),e._v(e._s(e.acc.login)+": "),n("span",{},[e._v(e._s(e.level))]),n("hr")],1)},k=[],x={name:"AccountListItem",props:{acc:{type:Object}},computed:{level:function(){return-1!==this.acc.level?this.acc.level:"unregistered"}},methods:{removeAcc:function(){this.$store.dispatch("removeAcc",this.acc.login)}}},T=x,C=(n("a9d5"),Object(i["a"])(T,_,k,!1,null,"d0ec5ee2",null)),O=C.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid main-container"},[n("the-header"),n("main",{staticClass:"main container pt-5 has-text-light"},[e._t("default",(function(){return[e._v("Main content")]}))],2),n("the-footer")],1)},R=[],S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer has-text-light has-background-black"},[n("div",{staticClass:"container has-text-centered"},[e._m(0),n("hr"),n("p",{staticClass:"is-size-4"},[e._v("Technologies used:")]),n("ul",e._l(e.techs,(function(t,c){return n("li",{key:c},[n("a",{attrs:{href:t.href}},[e._v(e._s(t.name))])])})),0)])])},L=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"is-size-3"},[e._v(" Made by "),n("a",{attrs:{href:"https://github.com/Pipirok"}},[e._v("Pipirok")])])}],$={name:"TheFooter",data:function(){return{techs:[{name:"Vue 2",href:"https://vuejs.org"},{name:"Vuex",href:"https://vuex.vuejs.org"},{name:"Vue-router",href:"https://router.vuejs.org"},{name:"Buefy",href:"buefy.org"},{name:"Node",href:"https://nodejs.org"},{name:"Express",href:"https://expressjs.com"},{name:"Prisma",href:"https://prisma.io"},{name:"PostgreSQL",href:"https://postgresql.org"}]}}},E=$,M=Object(i["a"])(E,S,L,!1,null,null,null),z=M.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",{attrs:{type:"is-dark has-background-primary-dark"},scopedSlots:e._u([{key:"brand",fn:function(){return[n("b-navbar-item",{attrs:{href:"/"}},[n("h3",{staticClass:"is-size-4"},[e._v("Vime Accs")])])]},proxy:!0},{key:"start",fn:function(){return[n("b-navbar-item",{attrs:{href:"https://github.com/Pipirok/vime-accounts"}},[n("b-icon",{attrs:{type:"is-light",icon:"github"}})],1)]},proxy:!0},{key:"end",fn:function(){return[n("div",{staticClass:"container"},[n("b-navbar-item",{attrs:{href:"/manage"}},[n("b-button",{attrs:{type:"is-primary is-dark is-medium"}},[e._v("Manage")])],1)],1)]},proxy:!0}])})},I=[],F={name:"TheHeader"},N=F,V=(n("e4ab"),Object(i["a"])(N,P,I,!1,null,null,null)),J=V.exports,D={components:{TheHeader:J,TheFooter:z},name:"MainLayout"},H=D,B=(n("3ee2"),Object(i["a"])(H,j,R,!1,null,null,null)),U=B.exports,q={components:{MainLayout:U,AccountList:w,AccountListItem:O},name:"Index",data:function(){return{sort:0}},computed:Object(h["a"])(Object(h["a"])({},Object(p["b"])({allAccs:function(e){return e.accs}})),{},{accsToShow:function(){var e=this.allAccs||[];switch(this.sort){case"0":return e.sort((function(e,t){return t.level-e.level}));case"1":return e.sort((function(e,t){return e.level-t.level}));case"2":return e.filter((function(e){return e.level<=5}));case"3":return e.filter((function(e){return-1===e.level}));default:return e.sort((function(e,t){return t.level-e.level}))}},accsExist:function(){return this.allAccs.length>0},accsToShowExist:function(){return this.accsToShow.length>0}}),methods:{selectRandom:function(){var e=this.accsToShow[Math.floor(Math.random()*this.accsToShow.length)];this.$buefy.dialog.alert("Your random account: ".concat(e.login," ").concat(-1!==e.level?"(lvl ".concat(e.level,")"):"(unregistered)"))}}},Q=q,Y=Object(i["a"])(Q,f,m,!1,null,null,null),Z=Y.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-layout",[n("div",{staticClass:"tile is-parent"},[n("b-button",{attrs:{type:"is-primary"},on:{click:e.recache}},[e._v(" Recache ")])],1),n("div",{staticClass:"tile"},[n("div",{staticClass:"tile is-parent"},[n("form-add-account")],1),n("div",{staticClass:"tile is-parent"},[n("form-remove-account")],1)])])},K=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-3 mb-5 is-block has-background-info-dark"},[n("h2",{staticClass:"is-size-2"},[e._v("Add")]),n("hr"),n("p",{staticClass:"is-size-5 pb-3"},[e._v(" Enter account name below, click add, view information about the account and choose whether to add it or not. ")]),n("b-field",[n("b-input",{attrs:{icon:"account-plus",placeholder:"Login to add"},model:{value:e.loginToAdd,callback:function(t){e.loginToAdd=t},expression:"loginToAdd"}}),n("b-button",{attrs:{type:"is-primary",disabled:!e.loginIsValid},on:{click:e.addAccount}},[e._v("Add")])],1)],1)},X=[],ee=(n("ac1f"),n("466d"),n("bc3a")),te=n.n(ee),ne={name:"FormAddAccount",data:function(){return{loginToAdd:""}},computed:{loginIsValid:function(){var e=this.loginToAdd;return!e.match(/[^A-Za-z0-9_]/g)&&(!(e.length<3)&&!(e.length>17))}},methods:{addAccount:function(){var e=this;te.a.get("https://api.vimeworld.ru/user/name/".concat(this.loginToAdd)).then((function(e){return e.data})).then((function(t){t.length>0?e.$buefy.dialog.confirm({title:"Add ".concat(t[0].username," ?"),message:"Do you want to add ".concat(t[0].username," which is on level ").concat(t[0].level," ?"),onConfirm:function(){e.$store.dispatch("addAcc",{login:t[0].username,level:t[0].level}),e.loginToAdd=""}}):e.$buefy.dialog.confirm({title:"Add ".concat(e.loginToAdd," ?"),message:"Do you want to add ".concat(e.loginToAdd," which is unregistered ?"),onConfirm:function(){e.$store.dispatch("addAcc",{login:e.loginToAdd,level:-1}),e.loginToAdd=""}})}))}}},ce=ne,ae=Object(i["a"])(ce,W,X,!1,null,null,null),oe=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-3 mb-3 is-block has-background-danger-dark"},[n("h2",{staticClass:"is-size-2"},[e._v("Remove")]),n("hr"),n("p",{staticClass:"is-size-5 pb-3"},[e._v(" Enter account name below, click remove, view information about the account and choose whether to remove it or not. ")]),n("b-field",[n("b-autocomplete",{attrs:{"open-on-focus":!0,placeholder:"Login to remove",data:e.filteredAccs,field:"acc.login",icon:"account-minus"},on:{select:function(t){return e.selectedLoginToRemove=t}},model:{value:e.loginToRemove,callback:function(t){e.loginToRemove=t},expression:"loginToRemove"}}),n("b-button",{attrs:{disabled:!e.selectedLoginToRemove,type:"is-primary"},on:{click:e.removeAcc}},[e._v("Remove")])],1)],1)},se=[],ie=(n("d81d"),{name:"FormRemoveAccount",data:function(){return{selectedLoginToRemove:null,loginToRemove:""}},computed:Object(h["a"])(Object(h["a"])({},Object(p["b"])({allAccs:function(e){return e.accs}})),{},{allAccsLogins:function(){return this.allAccs.map((function(e){return e.login}))},filteredAccs:function(){var e=this;return this.allAccsLogins.filter((function(t){return t.toLowerCase().indexOf(e.loginToRemove.toLowerCase())>=0}))}}),methods:{removeAcc:function(){this.$store.dispatch("removeAcc",this.selectedLoginToRemove),this.loginToRemove="",this.selectedLoginToRemove=null}}}),le=ie,ue=Object(i["a"])(le,re,se,!1,null,null,null),de=ue.exports,fe={components:{MainLayout:U,FormRemoveAccount:de,FormAddAccount:oe},name:"Manage",methods:{recache:function(){this.$store.dispatch("recache")}}},me=fe,he=Object(i["a"])(me,G,K,!1,null,null,null),pe=he.exports;c["a"].use(d["a"]);var ve=[{path:"/",component:Z},{path:"/manage",component:pe}],ge=new d["a"]({mode:"history",base:"/",routes:ve}),be=ge,ye=n("1da1"),Ae=(n("96cf"),n("caad"),n("2532"),n("39ea")),we=n("7584");c["a"].use(p["a"]);var _e=new p["a"].Store({state:{accs:JSON.parse(window.localStorage.getItem("accs"))||[]},mutations:{addAcc:function(e,t){var n=t.login,c=t.level;e.accs.push({login:n,level:c})},removeAcc:function(e,t){e.accs=e.accs.filter((function(e){return e.login!==t}))},updateAll:function(e,t){e.accs=t}},actions:{removeAcc:function(e,t){var n=e.commit,c=e.state;c.accs.map((function(e){return e.login.toLowerCase()})).includes(t.toLowerCase())?Ae["a"].confirm({title:"Delete account ".concat(t),message:"Are you sure you want to delete ".concat(t," ?"),type:"is-danger",onConfirm:function(){var e=Object(ye["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te.a.delete("/api/acc/remove/".concat(t)).then((function(e){return e.data}));case 2:a=e.sent,a.error?Ae["a"].alert({essage:"Something went wrong: ".concat(a.message,".\n                Check your internet connection (u MaTb)"),type:"is-danger"}):(n("removeAcc",a.removedAcc.login),window.localStorage.setItem("accs",JSON.stringify(c.accs)),Ae["a"].alert({type:"is-success",message:"Account ".concat(a.removedAcc.login," removed successfully!")}));case 4:case"end":return e.stop()}}),e)})));function a(){return e.apply(this,arguments)}return a}()}):Ae["a"].alert({type:"is-danger",message:"Account ".concat(t," isn't added in the first place!")})},addAcc:function(e,t){return Object(ye["a"])(regeneratorRuntime.mark((function n(){var c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c=e.commit,a=e.state,!a.accs.map((function(e){return e.login.toLowerCase()})).includes(t.login.toLowerCase())){n.next=5;break}Ae["a"].alert({message:"Account ".concat(t.login," is already added!"),type:"is-danger"}),n.next=9;break;case 5:return n.next=7,te.a.get("/api/acc/add/".concat(t.login,"/").concat(t.level)).then((function(e){return e.data}));case 7:o=n.sent,o.error?Ae["a"].alert({essage:"Something went wrong: ".concat(o.message,".\n            Check your internet connection (u MaTb)"),type:"is-danger"}):(c("addAcc",o.addedAcc),window.localStorage.setItem("accs",JSON.stringify(a.accs)),Ae["a"].alert({message:"Account ".concat(o.addedAcc.login," added successfully!"),type:"is-success"}));case 9:case"end":return n.stop()}}),n)})))()},hydrate:function(e){return Object(ye["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,te.a.get("/api/acc/all").then((function(e){return e.data}));case 3:c=t.sent,c.error?Ae["a"].alert({message:"Something went wrong: ".concat(c.message,".\n            Check your internet connection (u MaTb)"),type:"is-danger"}):n("updateAll",c.accs);case 5:case"end":return t.stop()}}),t)})))()},recache:function(e){return Object(ye["a"])(regeneratorRuntime.mark((function t(){var n,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,c=we["a"].open(),t.next=4,te.a.get("/api/acc/recache").then((function(e){return e.data}));case 4:a=t.sent,c.close(),a.error?Ae["a"].alert({message:"Something went wrong: ".concat(a.message,".\n            Check your internet connection (u MaTb)"),type:"is-danger"}):(n("updateAll",a.updatedAllAccs),Ae["a"].alert({message:"Accounts recached successfully! Updated ".concat(a.updatedAllAccs.length," accs"),type:"is-success"}));case 7:case"end":return t.stop()}}),t)})))()}}}),ke=(n("5abe"),n("5363"),n("289d"));c["a"].config.productionTip=!1,c["a"].use(ke["a"]),new c["a"]({router:be,store:_e,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){},"9ea8":function(e,t,n){},"9f74":function(e,t,n){},a9b4:function(e,t,n){},a9d5:function(e,t,n){"use strict";n("9ea8")},e4ab:function(e,t,n){"use strict";n("a9b4")}});
//# sourceMappingURL=app.d23878e7.js.map